<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:panelGroup class="col-md-12 col-sm-12 col-xs-12" rendered="#{controladorForms.seleccion eq 'formUsuCampeonatos'}">
        
            <div class="x_panel">
                <div class="x_title">
                    <h2>Mis Usuarios</h2>
                    <div class="clearfix"></div>
                </div>
                <div class="x_content">
                    <h:form id="personas">
                        <h:dataTable value="#{controladorPerfil.personas}" var="per" border="1">
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Nombre"></h:outputText>
                            </f:facet>
                            <h:outputText value="#{per.nombre}"></h:outputText>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Apellido"></h:outputText>
                            </f:facet>
                            <h:outputText value="#{per.apellido}"></h:outputText>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Tipo Documento"></h:outputText>
                            </f:facet>
                            <h:outputText value="#{per.tipoIdentificacion}"></h:outputText>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Documento"></h:outputText>
                            </f:facet>
                            <h:outputText value="#{per.identificacion}"></h:outputText>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Fecha de nacimiento"></h:outputText>
                            </f:facet>
                            <h:outputText value="#{per.fechaNacimiento}"></h:outputText>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Correo"></h:outputText>
                            </f:facet>
                            <h:outputText value="#{per.email}"></h:outputText>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Telefono"></h:outputText>
                            </f:facet>
                            <h:outputText value="#{per.telefono}"></h:outputText>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Direccion"></h:outputText>
                            </f:facet>
                            <h:outputText value="#{per.direccion}"></h:outputText>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Genero"></h:outputText>
                            </f:facet>
                            <h:outputText value="#{per.genero}"></h:outputText>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Eps"></h:outputText>
                            </f:facet>
                            <h:outputText value="#{per.idEps}"></h:outputText>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Tipo de sangre"></h:outputText>
                            </f:facet>
                            <h:outputText value="#{per.idRH}"></h:outputText>
                            <h:outputText value="#{per.estado}"></h:outputText>
                        </h:column>
                        <h:column>
                            <h:inputHidden value="#{per.id}"></h:inputHidden>
                            <f:facet name="header">
                                <h:outputText value="Herramientas"></h:outputText>
                            </f:facet>
                            <h:commandButton  class="btn btn-default" value="Editar" id="formEditarPerson" action="#{controladorPerfil.asignareditar(per)}" actionListener="#{controladorForms.cambiarForm}"/>
                            <h:commandButton  class="btn btn-default" disabled="#{per.estado==0}"  value="Hablitar" id="estadoUsuario" actionListener="Persona.xhtml" action="#{controladorPerfil.habilitarUsuario(per.id)}">
                                <f:ajax render="personas" execute="personas"></f:ajax>
                            </h:commandButton>
                            <h:commandButton  class="btn btn-default" disabled="#{per.estado==1}" value="Desabilitar" id="estadoUsuario1" actionListener="Persona.xhtml"  action="#{controladorPerfil.desabilitarUsuario(per.id)}">
                             <f:ajax render="personas" execute="personas"></f:ajax>
                            </h:commandButton>
                        </h:column>
                    </h:dataTable>
                    </h:form>
                </div>
            </div>
        </h:panelGroup>
</html>

