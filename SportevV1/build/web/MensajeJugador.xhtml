<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    
    <h:panelGroup layout="block" class="col-md-12 col-sm-12 col-xs-12" rendered="#{controladorForms.seleccion eq 'formRecibido'}">
        <h:form>

            <h:panelGroup layout="block" class="x_panel">
                <h5>Mensajes Nuevos</h5>
                <h:panelGroup layout="block" class="x_content">
                    <h:panelGroup layout="block" class="table-responsive">
                        <!-- Mostrar Mensaje-->
                        <!-- Mostrar Mensaje-->
                        <h:dataTable value="#{controladorMensaje.menn}" var="car" class="table table-striped jambo_table bulk-action">
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="De" class="column-title"/>
                                </f:facet>
                                <h:outputText value="#{car.idEmisor}" class="even pointer"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Asunto" class="column-title"/>
                                </f:facet>
                                <h:outputText value="#{car.asunto}" class="even pointer"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Mensaje" class="column-title"/>
                                </f:facet>
                                <h:outputText value="#{car.texto}" class="even pointer"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header" >
                                    <h:outputText value="fecha de Envio" class="column-title"/>
                                </f:facet>
                                <h:outputText value="#{car.fechaHora}" class="even pointer"/>
                            </h:column>

                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="AcciÃ³n" class="column-title"></h:outputText>

                                </f:facet>
                                    <h:commandButton value="Atender" action="#{controladorMensaje.atender(car.idMensaje)}" class="btn btn-primary"></h:commandButton>
                            </h:column>
                            <h:inputHidden>#{car.idMensaje}</h:inputHidden>
                            
                        </h:dataTable><br></br>
                        <h5>Novedades Atendidas</h5>
                        <h:dataTable value="#{controladorMensaje.atendido}" var="car" class="table table-striped jambo_table bulk-action">
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="De" class="column-title"/>
                                </f:facet>
                                <h:outputText value="#{car.idEmisor}" class="even pointer"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Asunto" class="column-title"/>
                                </f:facet>
                                <h:outputText value="#{car.asunto}" class="even pointer"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Mensaje" class="column-title"/>
                                </f:facet>
                                <h:outputText value="#{car.texto}" class="even pointer"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header" >
                                    <h:outputText value="fecha de Envio" class="column-title"/>
                                </f:facet>
                                <h:outputText value="#{car.fechaHora}" class="even pointer"/>
                            </h:column>

                            
                        </h:dataTable><br></br>
                    </h:panelGroup>
                </h:panelGroup>
            </h:panelGroup>
        </h:form>
    </h:panelGroup>
    <h:panelGroup layout="block" class="col-md-12 col-sm-12 col-xs-12" rendered="#{controladorForms.seleccion eq 'formRedactar'}">
        <h:panelGroup layout="block" class="x_panel">
            <h:panelGroup layout="block" class="x_content">


                <h:form class="form-horizontal form-label-left">
                    <!-- Mostrar Mensaje-->
                    <span class="section">Nuevo Mensaje</span>
                    <h:panelGroup layout="block" class="item form-group">
                        <h:outputLabel value="Para" class="control-label"></h:outputLabel>
                        <h:inputText value="#{controladorMensaje.mesanje.idReceptor}" class="form-control col-md-7 col-xs-12"></h:inputText>
                    </h:panelGroup>
                    <h:panelGroup layout="block" class="item form-group">
                        <h:outputLabel value="Asunto" class="control-label "></h:outputLabel>
                        <h:inputText value="#{controladorMensaje.mesanje.asunto}" class="form-control col-md-7 col-xs-12"></h:inputText><br></br>
                    </h:panelGroup>
                    <h:panelGroup layout="block" class="item form-group">
                        <h:outputLabel value="Texto" class="control-label"></h:outputLabel>
                        <h:inputTextarea value="#{controladorMensaje.mesanje.texto}" class="form-control col-md-7 col-xs-12"></h:inputTextarea><br></br>
                    </h:panelGroup>
                    <h:commandButton value="Enviar" action="#{controladorMensaje.enviarMensaje()}" class="btn btn-primary"></h:commandButton>
                </h:form>
            </h:panelGroup>

        </h:panelGroup>

        <h:form>
            <h:panelGroup layout="block" class="x_panel">
                <h:panelGroup layout="block" class="x_title">
                    <label> Contactos Disponibles</label>
                    <h:panelGroup layout="block" class="x_content">
                        <h:dataTable value="#{controladorMensaje.us}" var="ju" class="table table-bordered">
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Nombre" ></h:outputText>
                                </f:facet>
                                <h:outputText value="#{ju.usuarioNombre}"></h:outputText>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Usuario"></h:outputText>
                                </f:facet>
                                <h:outputText value="#{ju.nombreRol}"></h:outputText>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Campeonato"></h:outputText>
                                </f:facet>
                                <h:outputText value="#{ju.nombrecampeonato}"></h:outputText>
                            </h:column>
                        </h:dataTable>
                    </h:panelGroup>
                </h:panelGroup>
            </h:panelGroup>
        </h:form>
    </h:panelGroup>
</html>